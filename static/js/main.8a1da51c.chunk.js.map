{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/ConfPopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardDelete","type","aria-label","alt","src","link","onCardClick","onError","e","target","onerror","name","onCardLike","length","Main","avatar","onEditAvatar","id","onEditProfile","about","onAddPlace","cards","map","clickImages","Footer","ImagePopup","isOpen","onClose","PopupWithForm","form","onSubmit","method","title","children","disabled","submit","AddPlacePopup","useState","setName","setLink","useEffect","preventDefault","required","placeholder","minLength","maxLength","onChange","value","ConfPopup","onDelete","EditAvatarPopup","setAvatar","onUpdateAvatar","EditProfilePopup","description","setDescription","onUpdateUser","api","options","this","_url","baseUrl","_headers","headers","fetch","then","res","ok","json","Promise","reject","status","body","JSON","stringify","cardName","cardLink","authorization","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setAvatarPopupOpen","isConfPopupOpen","setIsConfPopupOpen","cardDelete","setCardDelete","isCardSelected","setIsCardSelected","setCards","setCurrentUser","dataImage","setDataImage","handleCardClick","closeAllPopups","handleEscClose","key","handlerOverlayClick","classList","contains","all","getUserInform","getCards","user","catch","err","console","log","window","addEventListener","removeEventListener","Provider","changeLikeCard","newCard","newCards","c","updateProfileInfo","result","createNewCard","updateAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8MACe,SAASA,IACtB,OACE,wBAAQC,UAAU,SAAlB,SACE,qBAAKA,UAAU,mBCHd,IAAMC,EAAqBC,IAAMC,gBCKzB,SAASC,EAAKC,GAC3B,IAAMC,EAAcJ,IAAMK,WAAWN,GAE/BO,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IAG7CC,EAAyB,oCACAJ,EAAQ,GAAK,gCAItCK,EAAUR,EAAMI,KAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAG3DM,EAAuB,kCACAJ,EAAU,yBAA2B,IAelE,OACE,qBAAIb,UAAU,OAAd,UACE,wBAAQA,UAAWY,EAA2BM,QAVlD,WACEb,EAAMc,aAAad,EAAMI,OASmDW,KAAK,SAASC,aAAW,+CACnG,qBAAKrB,UAAU,cACbsB,IAAI,gRACJC,IAAKlB,EAAMI,KAAKe,KAAMN,QAjB5B,WACEb,EAAMoB,YAAYpB,EAAMI,OAiBnBiB,QAAS,SAACC,GAAQA,EAAEC,OAAOC,QAAU,KAAMF,EAAEC,OAAOL,IAAK,uDAC5D,sBAAKvB,UAAU,oBAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BK,EAAMI,KAAKqB,OACxC,sBAAK9B,UAAU,aAAf,UACE,wBAAQA,UAAWiB,EAAyBC,QAdpD,WACEb,EAAM0B,WAAW1B,EAAMI,OAaqDW,KAAK,SAASC,aAAW,qDAC/F,qBAAKrB,UAAU,qBAAf,SAAqCK,EAAMI,KAAKK,MAAMkB,iBAVlC3B,EAAMI,KAAKE,KCjC1B,SAASsB,EAAK5B,GAC3B,IAAMC,EAAcJ,IAAMK,WAAWN,GAErC,OACE,uBAAMD,UAAU,OAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,kBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKA,UAAU,iBAAiBuB,IAAKjB,EAAY4B,OAAQZ,IAAKhB,EAAYwB,KAAMA,KAAK,WACrF,wBAAQ9B,UAAU,4BAA4BkB,QAASb,EAAM8B,kBAE/D,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCM,EAAYwB,OAC5C,wBAAQ9B,UAAU,0BAA0BoB,KAAK,SAASgB,GAAG,aAAaf,aAAW,iFAAgBH,QAASb,EAAMgC,mBAEtH,mBAAGrC,UAAU,oBAAb,SAAkCM,EAAYgC,cAGlD,wBAAQtC,UAAU,yBAAyBoB,KAAK,SAASC,aAAW,4EAAgBH,QAASb,EAAMkC,gBAGrG,qBAAKvC,UAAU,QAAf,SACE,oBAAIA,UAAU,4BAAd,SACGK,EAAMmC,OAASnC,EAAMmC,MAAMC,KAAI,SAAChC,GAAD,OAC9B,cAACL,EAAD,CAAqBK,KAAMA,EAAMgB,YAAapB,EAAMqC,YAAaX,WAAY1B,EAAM0B,WAAYZ,aAAcd,EAAMc,cAAxGV,EAAKE,eC5Bb,SAASgC,IACtB,OACE,wBAAQ3C,UAAU,SAAlB,SACE,mBAAGA,UAAU,eAAb,sCCHS,SAAS4C,EAAWvC,GACjC,OACE,yBAASL,UAAS,4BAAuBK,EAAMwC,OAAS,eAAiB,IAAzE,SACE,sBAAK7C,UAAU,0CAAf,UACE,wBAAQkB,QAASb,EAAMyC,QAAS9C,UAAU,2BAA2BoC,GAAG,cAAchB,KAAK,SAASC,aAAW,+CAC/G,yBAAQrB,UAAU,eAAlB,UACE,qBAAKA,UAAU,sBAAsBuB,IAAKlB,EAAMI,KAAKe,KAAMF,IAAKjB,EAAMI,KAAKqB,KAAMJ,QAAS,SAACC,GAAQA,EAAEC,OAAOC,QAAU,KAAMF,EAAEC,OAAOL,IAAK,uDAC1I,4BAAYvB,UAAU,8BAAtB,SAAqDK,EAAMI,KAAKqB,eCN3D,SAASiB,EAAc1C,GACpC,OACE,qBAAKL,UAAYK,EAAMwC,OAAS,qBAAuB,QAAUT,GAAI/B,EAAMyB,KAA3E,SACE,sBAAK9B,UAAU,mBAAf,UACE,wBAAQA,UAAU,2BAA2BoB,KAAK,SAASgB,GAAG,eAAef,aAAW,6CAAUH,QAASb,EAAMyC,UACjH,uBAAM9C,UAAU,cAAcoC,GAAI/B,EAAM2C,KAAMC,SAAU5C,EAAM4C,SAAUnB,KAAK,YAAYoB,OAAO,OAAhG,UACE,oBAAIlD,UAAU,eAAd,SAA8BK,EAAM8C,QACnC9C,EAAM+C,SACP,wBAAQpD,UAAaK,EAAMgD,SAAuC,mCAA9C,0BAAmFjC,KAAK,SAASiC,SAAUhD,EAAMgD,SAArI,SAAgJhD,EAAMiD,iBCPjJ,SAASC,EAAclD,GAAQ,IAAD,EACnBH,IAAMsD,SAAS,IADI,mBACpC1B,EADoC,KAC9B2B,EAD8B,OAEnBvD,IAAMsD,SAAS,IAFI,mBAEpChC,EAFoC,KAE9BkC,EAF8B,KAyB3C,OArBAxD,IAAMyD,WAAU,WACdF,EAAQ,IACRC,EAAQ,MACP,CAACrD,EAAMwC,SAmBR,eAACE,EAAD,CACEI,MAAM,gEACNG,OAAO,6CACPN,KAAK,aACLF,QAASzC,EAAMyC,QACfD,OAAQxC,EAAMwC,OACdI,SAfJ,SAAsBtB,GACpBA,EAAEiC,iBACFvD,EAAMkC,WAAW,CACfT,OACAN,UAKF,UAQE,uBAAOxB,UAAU,oBAAoBoB,KAAK,OAAOgB,GAAG,cAAcyB,UAAQ,EAACC,YAAY,mDAAWhC,KAAK,OAAOiC,UAAU,IAAIC,UAAU,KAAKC,SAzB/I,SAA0BtC,GACxB8B,EAAQ9B,EAAEC,OAAOsC,QAwBwJA,MAAOpC,GAAQ,KACtL,sBAAM9B,UAAU,oBAAoBoC,GAAG,sBACvC,uBAAOpC,UAAU,oBAAoBoB,KAAK,MAAMgB,GAAG,aAAayB,UAAQ,EAACC,YAAY,qGAAqBhC,KAAK,OAAOmC,SAvB1H,SAA0BtC,GACxB+B,EAAQ/B,EAAEC,OAAOsC,QAsBmIA,MAAO1C,GAAQ,KACjK,sBAAMxB,UAAU,4CAA4CoC,GAAG,wBCrCtD,SAAS+B,EAAU9D,GAMhC,OACE,cAAC0C,EAAD,CACEI,MAAM,2DACNG,OAAO,eACPN,KAAK,eACLF,QAASzC,EAAMyC,QACfD,OAAQxC,EAAMwC,OACdI,SAZJ,SAAsBtB,GACpBA,EAAEiC,iBACFvD,EAAM+D,cCFK,SAASC,EAAgBhE,GAElBH,IAAMK,WAAWN,GAArC,IAF6C,EAGjBC,IAAMsD,SAAS,IAHE,mBAGtCtB,EAHsC,KAG9BoC,EAH8B,KAmB7C,OAJApE,IAAMyD,WAAU,WACdW,EAAU,MACT,CAACjE,EAAMwC,SAGR,eAACE,EAAD,CACEI,MAAM,wFACNG,OAAO,yDACPN,KAAK,cACLF,QAASzC,EAAMyC,QACfD,OAAQxC,EAAMwC,OACdI,SAjBJ,SAAsBtB,GACpBA,EAAEiC,iBACFvD,EAAMkE,eAAe,CACnBrC,OAAQA,KAQV,UAQE,uBAAOlC,UAAU,oBAAoBoB,KAAK,MAAMgB,GAAG,cAAcf,aAAW,qGAAqByC,YAAY,qGAAqBhC,KAAK,OAAO+B,UAAQ,EAACK,MAAOhC,GAAU,GAAI+B,SAvBhL,SAA4BtC,GAC1B2C,EAAU3C,EAAEC,OAAOsC,UAuBjB,sBAAMlE,UAAU,oBAAoBoC,GAAG,sBACvC,sBAAMpC,UAAU,oBAAoBoC,GAAG,8BC9B9B,SAASoC,EAAiBnE,GAEvC,IAAMC,EAAcJ,IAAMK,WAAWN,GAFS,EAGtBC,IAAMsD,SAAS,IAHO,mBAGvC1B,EAHuC,KAGjC2B,EAHiC,OAIRvD,IAAMsD,SAAS,IAJP,mBAIvCiB,EAJuC,KAI1BC,EAJ0B,KA2B9C,OALAxE,IAAMyD,WAAU,WACdF,EAAQnD,EAAYwB,MACpB4C,EAAepE,EAAYgC,SAC1B,CAAChC,EAAaD,EAAMwC,SAGrB,eAACE,EAAD,CACEI,MAAM,4HACNG,OAAO,yDACPN,KAAK,YACLF,QAASzC,EAAMyC,QACfD,OAAQxC,EAAMwC,OACdI,SApBJ,SAAsBtB,GACpBA,EAAEiC,iBACFvD,EAAMsE,aAAa,CACjB7C,OACAQ,MAAOmC,KAUT,UAQE,uBAAOzE,UAAU,oBAAoBoB,KAAK,OAAOgB,GAAG,aAAayB,UAAQ,EAACC,YAAY,qBAAMhC,KAAK,OAAOiC,UAAU,IAAIC,UAAU,KAAKE,MAAOpC,GAAQ,GAAImC,SA9B5J,SAA0BtC,GACxB8B,EAAQ9B,EAAEC,OAAOsC,UA8Bf,sBAAMlE,UAAU,oBAAoBoC,GAAG,qBACvC,uBAAOpC,UAAU,oBAAoBoB,KAAK,OAAOgB,GAAG,mBAAmByB,UAAQ,EAACC,YAAY,yDAAYhC,KAAK,QAAQiC,UAAU,IAAIC,UAAU,MAAME,MAAOO,GAAe,GAAIR,SA5BjL,SAAiCtC,GAC/B+C,EAAe/C,EAAEC,OAAOsC,UA4BtB,sBAAMlE,UAAU,oBAAoBoC,GAAG,8B,kBC6E9BwC,EARH,I,WA/GV,WAAYC,GAAU,oBACpBC,KAAKC,KAAOF,EAAQG,QACpBF,KAAKG,SAAWJ,EAAQK,Q,4DAIxB,OAAOC,MAAM,GAAD,OAAIL,KAAKC,KAAT,aAA0B,CACpC7B,OAAQ,MACRgC,QAASJ,KAAKG,WAEbG,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,iCAM3C,OAAOP,MAAM,GAAD,OAAIL,KAAKC,KAAT,UAAuB,CACjC7B,OAAQ,MACRgC,QAASJ,KAAKG,WAEbG,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,wCAK3B5D,EAAMQ,GACtB,OAAO6C,MAAM,GAAD,OAAIL,KAAKC,KAAT,aAA0B,CACpC7B,OAAQ,QACRgC,QAASJ,KAAKG,SACdU,KAAMC,KAAKC,UAAU,CACnB/D,KAAMA,EACNQ,MAAOA,MAGR8C,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,oCAI7BI,EAAUC,GACtB,OAAOZ,MAAM,GAAD,OAAIL,KAAKC,KAAT,UAAuB,CACjC7B,OAAQ,OACRgC,QAASJ,KAAKG,SACdU,KAAMC,KAAKC,UAAU,CACnB/D,KAAMgE,EACNtE,KAAMuE,MAGPX,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,iCAIhCtD,GACT,OAAO+C,MAAM,GAAD,OAAIL,KAAKC,KAAT,kBAAuB3C,GAAM,CACvCc,OAAQ,SACRgC,QAASJ,KAAKG,WAEbG,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,qCAK9BtD,EAAIsD,GACjB,OAAOP,MAAM,GAAD,OAAIL,KAAKC,KAAT,wBAA6B3C,GAAM,CAC7Cc,OAAO,GAAD,OAAMwC,EAAU,MAAQ,UAC9BR,QAASJ,KAAKG,WAEbG,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,mCAI9BlE,GACX,OAAO2D,MAAM,GAAD,OAAIL,KAAKC,KAAT,oBAAiC,CAC3C7B,OAAQ,QACRgC,QAASJ,KAAKG,SACdU,KAAMC,KAAKC,UAAU,CACnB3D,OAAQV,MAGT4D,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,gB,KAKjC,CAAQ,CAClBV,QAAS,8CACTE,QAAS,CACPc,cAAe,uCACf,eAAgB,sBC8CLC,MAtJf,WAAgB,IAAD,EAC6C/F,IAAMsD,UAAS,GAD5D,mBACN0C,EADM,KACkBC,EADlB,OAEuCjG,IAAMsD,UAAS,GAFtD,mBAEN4C,EAFM,KAEeC,EAFf,OAGuCnG,IAAMsD,UAAS,GAHtD,mBAGN8C,EAHM,KAGiBC,EAHjB,OAIiCrG,IAAMsD,UAAS,GAJhD,mBAINgD,EAJM,KAIWC,EAJX,OAKuBvG,IAAMsD,SAAS,IALtC,mBAKNkD,EALM,KAKMC,EALN,OAM+BzG,IAAMsD,UAAS,GAN9C,mBAMNoD,EANM,KAMUC,EANV,OAOa3G,IAAMsD,SAAS,IAP5B,mBAONhB,EAPM,KAOCsE,EAPD,OAQyB5G,IAAMsD,SAAS,IARxC,mBAQNlD,EARM,KAQOyG,EARP,OASqB7G,IAAMsD,SAAS,IATpC,mBASNwD,EATM,KASKC,EATL,KA0Bb,SAASC,IACPL,GAAkB,GAmBpB,SAASM,IACPZ,GAAmB,GACnBJ,GAAwB,GACxBE,GAAqB,GACrBQ,GAAkB,GAClBI,EAAa,IACbR,GAAmB,GA6DrB,SAASW,EAAezF,GACR,WAAVA,EAAE0F,KACJF,IAIJ,SAASG,EAAoB3F,GACvBA,EAAEC,OAAO2F,UAAUC,SAAS,UAC9BL,IAaJ,OAvHAjH,IAAMyD,WAAU,WACd6B,QAAQiC,IAAI,CAAC7C,EAAI8C,gBAAiB9C,EAAI+C,aACnCvC,MAAK,YAAoB,IAAD,mBAAjBwC,EAAiB,KAAXpF,EAAW,KACvBuE,EAAea,GACfd,EAAStE,MAEVqF,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IAqGH5H,IAAMyD,WAAU,WAGd,OAFAsE,OAAOC,iBAAiB,UAAWd,GACnCa,OAAOC,iBAAiB,YAAaZ,GAC9B,WACLW,OAAOE,oBAAoB,YAAab,GACxCW,OAAOE,oBAAoB,UAAWf,OAKxC,qBAAKpH,UAAU,OAAf,SACE,eAACC,EAAmBmI,SAApB,CAA6BlE,MAAO5D,EAApC,UACE,cAACP,EAAD,IACA,cAACkC,EAAD,CAAMO,MAAOA,EAAOH,cAxG1B,WACE8D,GAAwB,IAuGuC5D,WApGjE,WACE8D,GAAqB,IAmG2ElE,aA5GlG,WACEoE,GAAmB,IA2GkH9E,YAAayF,EAAiBxE,YAhIpJ,SAACjC,GAChBwG,EAAaxG,GACbyG,KA8H0L/F,aAnF5L,SAA0BV,GACxBkG,EAAclG,GAbdgG,GAAmB,IA+FuM1E,WA9E5N,SAAwBtB,GACtB,IAAMI,EAAUJ,EAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAC3DiE,EAAIyD,eAAe5H,EAAKE,KAAME,GAASuE,MAAK,SAACkD,GAC3C,IAAMC,EAAW/F,EAAMC,KAAI,SAAC+F,GAAD,OAAOA,EAAE7H,MAAQF,EAAKE,IAAM2H,EAAUE,KACjE1B,EAASyB,MAERV,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAwEZ,cAACtD,EAAD,CAAkB3B,OAAQqD,EAAwBpD,QAASqE,EAAgBxC,aAzDjF,SAA0BiD,GACxBhD,EAAI6D,kBAAkBb,EAAK9F,KAAM8F,EAAKtF,OAAO8C,MAAK,SAACsD,GACjD3B,EAAe2B,GACfvB,OAECU,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAoDZ,cAACvE,EAAD,CAAeV,OAAQuD,EAAqBtD,QAASqE,EAAgB5E,WAhD3E,SAA8B9B,GAC5BmE,EAAI+D,cAAclI,EAAKqB,KAAMrB,EAAKe,MAAM4D,MAAK,SAACkD,GAC5CxB,EAAS,CAACwB,GAAF,mBAAc9F,KACtB2E,OAECU,OAAM,SAACC,GACNC,QAAQC,IAAIF,SA2CZ,cAACzD,EAAD,CAAiBxB,OAAQyD,EAAuBxD,QAASqE,EAAgB5C,eAvC/E,SAA4BqD,GAC1BhD,EAAIgE,aAAahB,EAAK1F,QACnBkD,MAAK,SAACsD,GACL3B,EAAe2B,GACfvB,OAEDU,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAiCZ,cAAC3D,EAAD,CAAWtB,OAAQ2D,EAAiB1D,QAASqE,EAAgB/C,SAvEnE,SAA6B3D,GAC3BmE,EAAIiE,WAAWnC,EAAW/F,KAAKyE,MAAK,WAClC,IAAMmD,EAAW/F,EAAMsG,QAAO,SAACN,GAAD,OAAOA,EAAE7H,MAAQ+F,EAAW/F,OAC1DmG,EAASyB,GACTpB,OAECU,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAiEZ,cAAClF,EAAD,CAAYE,QAASqE,EAAgBtE,OAAQ+D,EAAgBnG,KAAMuG,IACnE,cAACrE,EAAD,UChJOoG,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB7D,MAAK,YAAkD,IAA/C8D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAG1BZ,M","file":"static/js/main.8a1da51c.chunk.js","sourcesContent":["import React from 'react';\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\" />\r\n    </header>\r\n  )\r\n}","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n/* import ImgError from \"../images/default_error.jpg\"; */\r\n\r\n\r\n\r\nexport default function Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `button button_type_delete ${isOwn ? '' : 'button_type_delete_invisible'}`\r\n  );\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = (\r\n    `button button_type_like ${isLiked ? 'button_type_like-liked' : ''}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"card\" key={props.card._id}>\r\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\" aria-label=\"Удалить\" />\r\n      <img className=\"card__image\"\r\n        alt=\"По указанной ссылке изображение больше недоступно\"\r\n        src={props.card.link} onClick={handleClick} \r\n         onError={(e) => { e.target.onerror = null; e.target.src =\"https://caho.ru/images/blog/003-ne-tak/ne-tak.png\" }}  />\r\n      <div className=\"card__description\">\r\n        <h2 className=\"card__title\">{props.card.name}</h2>\r\n        <div className=\"card__like\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" aria-label=\"Лайкнуть\" />\r\n          <div className=\"card__like-counter\">{props.card.likes.length}</div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__author\">\r\n          <div className=\"profile__avatar\">\r\n            <img className=\"profile__image\" src={currentUser.avatar} alt={currentUser.name} name=\"avatar\" />\r\n            <button className=\"button button_type_avatar\" onClick={props.onEditAvatar} />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__text\">\r\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n              <button className=\"button button_type_edit\" type=\"button\" id=\"close-edit\" aria-label=\"Редактировать\" onClick={props.onEditProfile} />\r\n            </div>\r\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button className=\"button button_type_add\" type=\"button\" aria-label=\"Добавить фото\" onClick={props.onAddPlace} />\r\n      </section>\r\n\r\n      <div className=\"cards\">\r\n        <ul className=\"card-list main__card-list\">\r\n          {props.cards && props.cards.map((card) => (\r\n            <Card key={card._id} card={card} onCardClick={props.clickImages} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}","import React from 'react';\r\nexport default function ImagePopup(props) {\r\n  return (\r\n    <section className={`popup popup-image ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__container popup-image__container\">\r\n        <button onClick={props.onClose} className=\"button button_type_close\" id=\"close-image\" type=\"button\" aria-label=\"Закрыть\" />\r\n        <figure className=\"figure-place\">\r\n          <img className=\"figure-place__image\" src={props.card.link} alt={props.card.name} onError={(e) => { e.target.onerror = null; e.target.src =\"https://caho.ru/images/blog/003-ne-tak/ne-tak.png\" }}/>\r\n          <figcaption className=\"figure-place__image-caption\">{props.card.name}</figcaption>\r\n        </figure>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport default function PopupWithForm(props) {\r\n  return (\r\n    <div className={(props.isOpen ? 'popup popup_opened' : 'popup')} id={props.name}>\r\n      <div className='popup__container'>\r\n        <button className='button button_type_close' type='button' id='close-button' aria-label='Закрыть' onClick={props.onClose} />\r\n        <form className='popup__form' id={props.form} onSubmit={props.onSubmit} name='form-info' method='post'>\r\n          <h3 className='popup__title'>{props.title}</h3>\r\n          {props.children}\r\n          <button className={(!props.disabled ? `button button_type_save` : 'button button_type_save_inactive')} type='submit' disabled={props.disabled}>{props.submit}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n  }, [props.isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title='Новое место'\r\n      submit='Создать'\r\n      form='place-form'\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input className=\"popup__form-input\" type=\"text\" id=\"input-place\" required placeholder=\"Название\" name=\"name\" minLength=\"1\" maxLength=\"30\" onChange={handleChangeName} value={name || ''} />\r\n      <span className=\"popup__span-error\" id=\"input-place-error\" />\r\n      <input className=\"popup__form-input\" type=\"url\" id=\"input-link\" required placeholder=\"Ссылка на картинку\" name=\"link\" onChange={handleChangeLink} value={link || ''} />\r\n      <span className=\"popup__span-error popup__place-span-error\" id=\"input-link-error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function ConfPopup(props) {\r\n  function handleSubmit(e) {    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    props.onDelete()\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title='Вы уверены?'\r\n      submit='Да'\r\n      form='delete-place'\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleSubmit}\r\n    >\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function EditAvatarPopup(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [avatar, setAvatar] = React.useState('');\r\n\r\n  function handleChangeAvatar(e) {\r\n    setAvatar(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatar\r\n    });\r\n  }\r\n  React.useEffect(() => {\r\n    setAvatar('');\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title='Обновить аватар'\r\n      submit='Сохранить'\r\n      form='form-avatar'\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input className=\"popup__form-input\" type=\"url\" id=\"avatar-link\" aria-label=\"Ссылка на картинку\" placeholder=\"Ссылка на картинку\" name=\"link\" required value={avatar || ''} onChange={handleChangeAvatar} />\r\n      <span className=\"popup__span-error\" id=\"avatar-link-error\" />\r\n      <span className=\"popup__span-error\" id=\"input-profession-error\" />\r\n    </PopupWithForm >\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function EditProfilePopup(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title='Редактировать профиль'\r\n      submit='Сохранить'\r\n      form='name-form'\r\n      onClose={props.onClose}\r\n      isOpen={props.isOpen}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input className=\"popup__form-input\" type=\"text\" id=\"input-name\" required placeholder=\"Имя\" name=\"name\" minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName} />\r\n      <span className=\"popup__span-error\" id=\"input-name-error\" />\r\n      <input className=\"popup__form-input\" type=\"text\" id=\"input-profession\" required placeholder=\"Профессия\" name=\"about\" minLength=\"2\" maxLength=\"200\" value={description || ''} onChange={handleChangeDescription} />\r\n      <span className=\"popup__span-error\" id=\"input-profession-error\" />\r\n    </PopupWithForm >\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n","class Api {\r\n  constructor(options) {\r\n    this._url = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getUserInform() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n      });\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n      });\r\n  }\r\n\r\n  updateProfileInfo(name, about) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about\r\n      })\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n  }\r\n\r\n  createNewCard(cardName, cardLink) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: cardName,\r\n        link: cardLink\r\n      })\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n      });\r\n  }\r\n\r\n  changeLikeCard(id, status) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: `${(status) ? 'PUT' : 'DELETE'}`,\r\n      headers: this._headers,\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  updateAvatar(link) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: link\r\n      })\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n  headers: {\r\n    authorization: '998fe87c-1205-4216-8ac1-5bc50516f491',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;\r\n\r\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfPopup from './ConfPopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setAvatarPopupOpen] = React.useState(false);\n  const [isConfPopupOpen, setIsConfPopupOpen] = React.useState(false);\n  const [cardDelete, setCardDelete] = React.useState({});\n  const [isCardSelected, setIsCardSelected] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [dataImage, setDataImage] = React.useState({});\n  const setImage = (card) => {\n    setDataImage(card);\n    handleCardClick();\n  }\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInform(), api.getCards()])\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardClick() {\n    setIsCardSelected(true);\n  }\n\n  function handleEditAvatarClick() {\n    setAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleConfDeleteClick() {\n    setIsConfPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setAvatarPopupOpen(false)\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setIsCardSelected(false);\n    setDataImage({});\n    setIsConfPopupOpen(false);\n  }\n\n  function handleCardDelete(card) {\n    setCardDelete(card);\n    handleConfDeleteClick();\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCard(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n      .catch((err) => {\n        console.log(err);\n      });;\n  }\n\n  function handleConfirmDelete(card) {\n    api.deleteCard(cardDelete._id).then(() => {\n      const newCards = cards.filter((c) => c._id !== cardDelete._id);\n      setCards(newCards);\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleUpdateUser(user) {\n    api.updateProfileInfo(user.name, user.about).then((result) => {\n      setCurrentUser(result);\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.createNewCard(card.name, card.link).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleUpdateAvatar(user) {\n    api.updateAvatar(user.avatar)\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleEscClose(e) {\n    if (e.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  function handlerOverlayClick(e) {\n    if (e.target.classList.contains('popup')) {\n      closeAllPopups();\n    }\n  }\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEscClose);\n    window.addEventListener('mousedown', handlerOverlayClick);\n    return () => {\n      window.removeEventListener('mousedown', handlerOverlayClick);\n      window.removeEventListener('keydown', handleEscClose);\n    };\n  })\n\n  return (\n    <div className='page'>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main cards={cards} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} clickImages={setImage} onCardDelete={handleCardDelete} onCardLike={handleCardLike} />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <ConfPopup isOpen={isConfPopupOpen} onClose={closeAllPopups} onDelete={handleConfirmDelete} />\n        <ImagePopup onClose={closeAllPopups} isOpen={isCardSelected} card={dataImage} />\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}